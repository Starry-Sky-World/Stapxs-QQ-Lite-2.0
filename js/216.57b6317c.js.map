{"version":3,"file":"js/216.57b6317c.js","mappings":"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","sources":["webpack://stapxs-qq-lite/./src/pages/chat-view/SystemNotice.vue?76cb","webpack://stapxs-qq-lite/./src/pages/chat-view/SystemNotice.vue","webpack://stapxs-qq-lite/./src/pages/chat-view/SystemNotice.vue?6d8d"],"sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeStyle as _normalizeStyle, vShow as _vShow, withDirectives as _withDirectives, normalizeClass as _normalizeClass } from \"vue\"\n\nconst _hoisted_1 = { class: \"sys-not-list\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"sys_not_new_friend\"\n}\nconst _hoisted_3 = [\"src\"]\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"br\", null, null, -1)\nconst _hoisted_5 = [\"onClick\"]\nconst _hoisted_6 = [\"onClick\"]\nconst _hoisted_7 = {\n  key: 1,\n  class: \"sys_not_new_friend\"\n}\nconst _hoisted_8 = [\"src\"]\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"span\", { style: {\"display\":\"none\"} }, null, -1)\nconst _hoisted_10 = [\"onClick\"]\nconst _hoisted_11 = [\"onClick\"]\nconst _hoisted_12 = {\n  key: 2,\n  class: \"sys_not_new_friend\"\n}\nconst _hoisted_13 = /*#__PURE__*/_createElementVNode(\"span\", null, \"不支持的消息类型\", -1)\nconst _hoisted_14 = { style: {\"color\":\"var(--color-font-2)\",\"word-wrap\":\"anywhere\"} }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: \"chat-pan\",\n    class: _normalizeClass('chat-pan sys-not-pan' + (_ctx.runtimeData.tags.openSideBar ? ' open': '') + (_ctx.runtimeData.sysConfig.opt_no_window ? ' withBar': ''))\n  }, [\n    _createElementVNode(\"div\", null, [\n      _createVNode(_component_font_awesome_icon, {\n        onClick: _ctx.exit,\n        icon: ['fas', 'angle-left']\n      }, null, 8, [\"onClick\"]),\n      _createElementVNode(\"span\", null, _toDisplayString(_ctx.$t('sys_notice')), 1)\n    ]),\n    _createElementVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.runtimeData.systemNoticesList, (notice, index) => {\n        return (_openBlock(), _createElementBlock(_Fragment, {\n          key: 'sysNot-' + index\n        }, [\n          (notice.request_type == 'friend' && notice.sub_type == 'add')\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                _createElementVNode(\"span\", null, _toDisplayString(_ctx.$t('sys_notice_new_friend')), 1),\n                _createElementVNode(\"div\", null, [\n                  _createElementVNode(\"div\", null, [\n                    _createElementVNode(\"img\", {\n                      src: 'https://q1.qlogo.cn/g?b=qq&s=0&nk=' + notice.user_id\n                    }, null, 8, _hoisted_3),\n                    _createElementVNode(\"div\", null, [\n                      _createElementVNode(\"span\", null, _toDisplayString(notice.nickname), 1),\n                      _createElementVNode(\"div\", null, [\n                        _createElementVNode(\"span\", null, _toDisplayString((notice.sex == 'female' ? '♀ ' : '♂ ') + notice.age), 1),\n                        _hoisted_4,\n                        _createElementVNode(\"span\", null, _toDisplayString(notice.comment), 1)\n                      ]),\n                      _createElementVNode(\"span\", null, _toDisplayString(_ctx.$t('sys_notice_new_friend_from') + notice.source), 1)\n                    ])\n                  ]),\n                  _createElementVNode(\"div\", null, [\n                    _createElementVNode(\"button\", {\n                      onClick: ($event: any) => (_ctx.dealFriend(notice, false)),\n                      class: \"ss-button\"\n                    }, _toDisplayString(_ctx.$t('btn_reject')), 9, _hoisted_5),\n                    _createElementVNode(\"button\", {\n                      onClick: ($event: any) => (_ctx.dealFriend(notice, true)),\n                      class: \"ss-button\"\n                    }, _toDisplayString(_ctx.$t('btn_accept')), 9, _hoisted_6)\n                  ])\n                ])\n              ]))\n            : (notice.request_type == 'group' && notice.sub_type == 'add')\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n                  _createElementVNode(\"span\", null, _toDisplayString(_ctx.$t('sys_notice_new_group_nmember')), 1),\n                  _createElementVNode(\"div\", null, [\n                    _createElementVNode(\"div\", null, [\n                      _createElementVNode(\"img\", {\n                        src: 'https://q1.qlogo.cn/g?b=qq&s=0&nk=' + notice.user_id\n                      }, null, 8, _hoisted_8),\n                      _createElementVNode(\"div\", null, [\n                        _createElementVNode(\"span\", null, _toDisplayString(notice.nickname), 1),\n                        _createElementVNode(\"div\", null, [\n                          _hoisted_9,\n                          _createElementVNode(\"span\", {\n                            style: _normalizeStyle(notice.comment == '' ? 'font-style: italic;' : '')\n                          }, _toDisplayString(notice.comment == '' ? _ctx.$t('sys_notice_new_group_nmember_no_comment') : notice.comment), 5)\n                        ]),\n                        _createElementVNode(\"span\", null, _toDisplayString(_ctx.$t('sys_notice_new_group_nmember_add') + notice.group_name), 1)\n                      ])\n                    ]),\n                    _createElementVNode(\"div\", null, [\n                      _createElementVNode(\"button\", {\n                        onClick: ($event: any) => (_ctx.dealGroupAdd(notice, false)),\n                        class: \"ss-button\"\n                      }, _toDisplayString(_ctx.$t('btn_reject')), 9, _hoisted_10),\n                      _createElementVNode(\"button\", {\n                        onClick: ($event: any) => (_ctx.dealGroupAdd(notice, true)),\n                        class: \"ss-button\"\n                      }, _toDisplayString(_ctx.$t('btn_accept')), 9, _hoisted_11)\n                    ])\n                  ])\n                ]))\n              : _withDirectives((_openBlock(), _createElementBlock(\"div\", _hoisted_12, [\n                  _hoisted_13,\n                  _createElementVNode(\"a\", _hoisted_14, _toDisplayString(JSON.stringify(notice)), 1)\n                ], 512)), [\n                  [_vShow, _ctx.NODE_ENV == 'development']\n                ])\n        ], 64))\n      }), 128))\n    ])\n  ], 2))\n}","<!--\n * @FileDescription: 聊天面板页面（系统消息面板）\n * @Author: Stapxs\n * @Date: 2023/01/09\n * @Version: 1.0 - 初始版本\n * @Description: 此面板为点击系统消息后单独显示的面板，用于覆盖聊天面板\n-->\n\n<template>\n    <div id=\"chat-pan\"\n    :class=\"'chat-pan sys-not-pan' + (runtimeData.tags.openSideBar ? ' open': '') + (runtimeData.sysConfig.opt_no_window ? ' withBar': '')\">\n        <div>\n            <font-awesome-icon @click=\"exit\" :icon=\"['fas', 'angle-left']\" />\n            <span>{{ $t('sys_notice') }}</span>\n        </div>\n        <div class=\"sys-not-list\">\n            <template v-for=\"(notice, index) in runtimeData.systemNoticesList\" :key=\"'sysNot-' + index\">\n                <div v-if=\"notice.request_type == 'friend' && notice.sub_type == 'add'\"\n                    class=\"sys_not_new_friend\">\n                    <span>{{ $t('sys_notice_new_friend') }}</span>\n                    <div>\n                        <div>\n                            <img :src=\"'https://q1.qlogo.cn/g?b=qq&s=0&nk=' + notice.user_id\">\n                            <div>\n                                <span>{{ notice.nickname }}</span>\n                                <div>\n                                    <span>{{ (notice.sex == 'female' ? '♀ ' : '♂ ') + notice.age }}</span>\n                                    <br>\n                                    <span>{{ notice.comment }}</span>\n                                </div>\n                                <span>{{ $t('sys_notice_new_friend_from') + notice.source }}</span>\n                            </div>\n                        </div>\n                        <div>\n                            <button @click=\"dealFriend(notice, false)\" class=\"ss-button\">{{ $t('btn_reject') }}</button>\n                            <button @click=\"dealFriend(notice, true)\" class=\"ss-button\">{{ $t('btn_accept') }}</button>\n                        </div>\n                    </div>\n                </div>\n                <div v-else-if=\"notice.request_type == 'group' && notice.sub_type == 'add'\"\n                    class=\"sys_not_new_friend\">\n                    <span>{{ $t('sys_notice_new_group_nmember') }}</span>\n                    <div>\n                        <div>\n                            <img :src=\"'https://q1.qlogo.cn/g?b=qq&s=0&nk=' + notice.user_id\">\n                            <div>\n                                <span>{{ notice.nickname }}</span>\n                                <div>\n                                    <span style=\"display: none;\"></span>\n                                    <span :style=\"notice.comment == '' ? 'font-style: italic;' : ''\">{{ notice.comment == '' ? $t('sys_notice_new_group_nmember_no_comment') : notice.comment }}</span>\n                                </div>\n                                <span>{{ $t('sys_notice_new_group_nmember_add') + notice.group_name }}</span>\n                            </div>\n                        </div>\n                        <div>\n                            <button @click=\"dealGroupAdd(notice, false)\" class=\"ss-button\">{{ $t('btn_reject') }}</button>\n                            <button @click=\"dealGroupAdd(notice, true)\" class=\"ss-button\">{{ $t('btn_accept') }}</button>\n                        </div>\n                    </div>\n                </div>\n                <div v-else v-show=\"NODE_ENV == 'development'\" class=\"sys_not_new_friend\">\n                    <span>不支持的消息类型</span>\n                    <a style=\"color: var(--color-font-2);word-wrap: anywhere;\">{{ JSON.stringify(notice) }}</a>\n                </div>\n            </template>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue'\n\nimport { runtimeData } from '@/function/msg'\nimport { Connector } from '@/function/connect'\n\nexport default defineComponent({\n    name: 'ChatSystemNotice',\n    components: {},\n    data() {\n        return {\n            runtimeData: runtimeData,\n            NODE_ENV: process.env.NODE_ENV\n        }\n    },\n    methods: {\n        /**\n         * 返回按钮\n         */\n        exit() {\n            this.$emit('userClick', {id: 0})\n        },\n\n        /**\n         * 处理好友申请\n         * @param notice 申请信息\n         * @param deal 同意 / 拒绝\n         */\n        dealFriend(notice:any, deal: boolean) {\n            Connector.send(\n                'set_friend_add_request',\n                {\n                    flag: notice.flag,\n                    approve: deal\n                },\n                'setFriendAdd'\n            )\n        },\n\n        /**\n         * 处理入群申请\n         * @param notice 申请信息\n         * @param deal 同意 / 拒绝\n         */\n        dealGroupAdd(notice:any, deal: boolean) {\n            Connector.send(\n                'set_group_add_request',\n                {\n                    flag: notice.flag,\n                    approve: deal,\n                    sub_type: notice.sub_type\n                },\n                'setGroupAdd'\n            )\n        }\n    },\n    mounted()  {\n        this.$watch(() => runtimeData.systemNoticesList, () => {\n            if(runtimeData.systemNoticesList && runtimeData.systemNoticesList.length <= 0) {\n                this.exit()\n            }\n        })\n    }\n})\n</script>\n","import { render } from \"./SystemNotice.vue?vue&type=template&id=61f3aa9e&ts=true\"\nimport script from \"./SystemNotice.vue?vue&type=script&lang=ts\"\nexport * from \"./SystemNotice.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_hoisted_1","class","_hoisted_2","key","_hoisted_3","_hoisted_4","_createElementVNode","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","style","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","render","_ctx","_cache","$props","$setup","$data","$options","_component_font_awesome_icon","_resolveComponent","_openBlock","_createElementBlock","id","_normalizeClass","runtimeData","tags","openSideBar","sysConfig","opt_no_window","_createVNode","onClick","exit","icon","_toDisplayString","$t","_Fragment","_renderList","systemNoticesList","notice","index","request_type","sub_type","src","user_id","nickname","sex","age","comment","source","$event","dealFriend","_normalizeStyle","group_name","dealGroupAdd","_withDirectives","JSON","stringify","_vShow","NODE_ENV","defineComponent","name","components","data","process","methods","this","$emit","deal","Connector","send","flag","approve","mounted","$watch","length","__exports__"],"sourceRoot":""}